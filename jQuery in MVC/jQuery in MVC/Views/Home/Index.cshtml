
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <script src="~/Scripts/jquery-3.7.1.js"></script>
</head>
<body>
    <div>
        <h1>Hello from Index</h1>

    <!--<div>
        <h2>Id</h2> - <h2 id="stdId"></h2>
        <h2>Name</h2> - <h2 id="stdName"></h2>
        <h2>Email</h2> - <h2 id="stdEmail"></h2>-->


        @* <h1>Hello from Index</h1>
        <input type="text" id="txtbox"/>
        <label id="lbl"></label><br />*@
    <!--</div>

        <input type="button" onclick="btnclick()" value="Click Me"/>-->
    </div>
    <div>
        <form>
            <input type="text" id="stdId" placeholder="id" />
            <br />
            <br />
            <input type="text" id="stdName" placeholder="Name" />
            <br /><br />
            <input type="text" id="stdEmail" placeholder="Email" />
            <br /><br />

            <input type="button" value="Send Data" onclick="BtnClick()"/> 
        </form>
    </div>

</body>
</html>

<script>
    /*$(document).ready(function () {
        alert("DOM is Ready");*//*
        $("#lbl").text("I am Added from Jquery");
    });
*/
    /*function btnclick() {
        var value = $("#txtbox").val();
        $("#lbl").text(value);
    }*/

  /*  //for GET by using AJAX//
    function btnclick() {
        $.ajax({
            url: "/Home/GetStudent",
            method: "GET",
            success: function (data) {

                *//*console.log(data);
                data = JSON.parse(data);

                console.log(data);*//*

                data = JSON.parse(data);

                $("#stdId").text(data.Id);
                $("#stdName").text(data.Name);
                $("#stdEmail").text(data.Email);
            },
            error: function (err) { 
                console.error(err);
            }
        })
    } */
    function BtnClick() {
        var id = $("#stdId").val();
        var name = $("#stdName").val();
        var email = $("#stdEmail").val();

        var obj = {
            Id: id,
            Name: name,
            Email: email
        }
        SubmitForm(obj);
    }

    function SubmitForm(obj) {
        $.ajax({
            url: "/Home/AddStudent",
            method: "POST",
            data:obj,
            success: function (data) {
                alert(data);
            },
            error: function (err) {
                console.error(err);
            }
        })
    } 

</script>
